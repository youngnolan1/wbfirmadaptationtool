install.packages("shiny")
install.packages("tidyverse")
install.packages("leaflet")
# ADJUST FILE PATH HERE
setwd("C:/Users/young/OneDrive/Escritorio/wb-climate-pilots-bangladesh")
source("scripts2022/regressions/deviations/individual_deviations_regs_22.R")
library(patchwork)
library(ggplot2)
library(cowplot)
# Define general function
firm_var_plot  <- function(interactions_df, title_text){
relevant_df <- interactions_df %>%
filter(variable == "firm_age")
plot <- ggplot(relevant_df, aes(variable, interaction_coefficient)) +
geom_hline(yintercept=0, lty=2, lwd=1, colour="grey50") +
geom_col(aes(y=interaction_coefficient, fill=variable)) +
geom_errorbar(aes(ymin=lower_ci, ymax=upper_ci),
lwd=1, width=0.1, colour="grey50") +
guides(fill=FALSE, colour=FALSE) +
labs(title = title_text, x = "", y = "") +
theme_grey(base_size=15) +
theme(plot.title = element_text(hjust = 0.5, size = 12),
axis.title.x = element_text(size = 10),
axis.title.y = element_text(size = 10),
strip.text.x = element_blank())
return(plot)
}
# Create plots for each climate var using function
tempvolatility_plot <- firm_var_plot(tempvolatility_df, "Temperature volatility")
tempvolatility_plot
setwd("C:/Users/young/OneDrive/Escritorio/wb-climate-pilots-bangladesh/scripts2022/regressions/charts")
ggsave("Age_Coefficient_TempVolatility.png", tempvolatility_plot)
# Load libraries
library(haven)
library(dplyr)
library(stargazer)
library(devtools)
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
# Prep data
reg_data <- wbfirmadaptation::prep_reg_data("C:/Users/young/OneDrive/Documents/wbfirmadaptation/raw_data", "Bangladesh2022")
# Climate on firm
wbfirmadaptation::climate_on_firm_regs_charts(reg_data, "deviation", "C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output")
# Main script: run all functions, 1 through 3, on the data to produce standardized
# output for the survey supplied.
# Load libraries
library(haven)
library(dplyr)
library(ggplot2)
library(stargazer)
library(devtools)
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
# Prep data
reg_data <- wbfirmadaptation::prep_reg_data("C:/Users/young/OneDrive/Documents/wbfirmadaptation/raw_data", "Bangladesh2022")
# Climate on firm
wbfirmadaptation::climate_on_firm_regs_charts(reg_data, "deviation", "C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output")
wbfirmadaptation::climate_on_firm_regs_tables(reg_data, "deviation", "C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output")
?vcovHC
library(sandwich)
wbfirmadaptation::climate_on_firm_regs_tables(reg_data, "deviation", "C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output")
# Interactions
wbfirmadaptation::interaction_reg_table(reg_data, "log(sales)", "heat_days_deviation",
c("young", "small", "obstacle_accesstofinance"),
"C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output/test_table.html")
?wbfirmadaptation::prep_reg_data
?stargazer
?ggplot
?filter
# Main script: run all functions, 1 through 3, on the data to produce standardized
# output for the survey supplied.
# Load libraries
library(haven)
library(dplyr)
library(sandwich)
library(ggplot2)
library(stargazer)
library(devtools)
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
?prep_reg_data
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
?prep_reg_data
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
?prep_reg_data
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
library(devtools)
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
?prep_reg_data
?wbfirmadaptation::prep_reg_data
devtools::document("wbfirmadaptation")
?prep_reg_data
devtools::document("wbfirmadaptation")
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
?prep_reg_data
# Main script: run all functions, 1 through 3, on the data to produce standardized
# output for the survey supplied.
# Load libraries
library(haven)
library(dplyr)
library(sandwich)
library(ggplot2)
library(stargazer)
library(devtools)
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
# Prep data
reg_data <- wbfirmadaptation::prep_reg_data("C:/Users/young/OneDrive/Documents/wbfirmadaptation/raw_data", "Bangladesh2022")
# Climate on firm
wbfirmadaptation::climate_on_firm_regs_charts(reg_data, "level", "C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output")
wbfirmadaptation::climate_on_firm_regs_tables(reg_data, "level", "C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output")
# Interactions
wbfirmadaptation::interaction_reg_table(reg_data, "log(sales)", "heat_days_deviation",
c("young", "small", "obstacle_accesstofinance"),
"C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output/test_table.html")
# Load libraries
library(haven)
library(dplyr)
library(sandwich)
library(ggplot2)
library(stargazer)
library(devtools)
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
# Prep data
reg_data <- wbfirmadaptation::prep_reg_data("C:/Users/young/OneDrive/Documents/wbfirmadaptation/raw_data", "Bangladesh2022")
wbfirmadaptation::climate_on_firm_regs_tables(reg_data, "level", "C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output")
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
wbfirmadaptation::climate_on_firm_regs_tables(reg_data, "level", "C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output")
# Interactions
wbfirmadaptation::interaction_reg_table(reg_data, "log(sales)", "heat_days_deviation",
c("young", "small", "obstacle_accesstofinance"),
"C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output/test_table.html")
# Main script: run all functions, 1 through 3, on the data to produce standardized
# output for the survey supplied.
# Load libraries
library(haven)
library(dplyr)
library(sandwich)
library(ggplot2)
library(stargazer)
library(devtools)
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
# Prep data
reg_data <- wbfirmadaptation::prep_reg_data("C:/Users/young/OneDrive/Documents/wbfirmadaptation/raw_data", "Mexico2023")
# Climate on firm
wbfirmadaptation::climate_on_firm_regs_charts(reg_data, "level", "C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output")
wbfirmadaptation::climate_on_firm_regs_tables(reg_data, "level", "C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output")
# Interactions
wbfirmadaptation::interaction_reg_table(reg_data, "log(sales)", "heat_days",
c("young", "small", "obstacle_accesstofinance"),
"C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output/test_table.html")
devtools::document("wbfirmadaptation")
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
# Load libraries
library(haven)
library(dplyr)
library(sandwich)
library(ggplot2)
library(stargazer)
library(devtools)
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
# Load libraries
library(haven)
library(dplyr)
library(sandwich)
library(ggplot2)
library(stargazer)
library(devtools)
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
devtools::document("wbfirmadaptation")
?interaction_reg_table
# Main script: run all functions, 1 through 3, on the data to produce standardized
# output for the survey supplied.
# Load libraries
library(haven)
library(dplyr)
library(sandwich)
library(ggplot2)
library(stargazer)
library(devtools)
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
# Prep data
reg_data <- wbfirmadaptation::prep_reg_data("C:/Users/young/OneDrive/Documents/wbfirmadaptation/raw_data", "Mexico2023")
# Climate on firm
wbfirmadaptation::climate_on_firm_regs_charts(reg_data, "level", "C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output")
wbfirmadaptation::climate_on_firm_regs_tables(reg_data, "level", "C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output")
# Interactions
wbfirmadaptation::interaction_reg_table(reg_data, "log(sales)", "heat_days",
c("young", "small", "obstacle_accesstofinance"),
"C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output/test_table.html")
# Main script: run all functions, 1 through 3, on the data to produce standardized
# output for the survey supplied.
# Load libraries
library(haven)
library(dplyr)
library(sandwich)
library(ggplot2)
library(stargazer)
library(devtools)
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
# Prep data
reg_data <- wbfirmadaptation::prep_reg_data("C:/Users/young/OneDrive/Documents/wbfirmadaptation/raw_data", "Mexico2023")
# Main script: run all functions, 1 through 3, on the data to produce standardized
# output for the survey supplied.
# Load libraries
library(haven)
library(dplyr)
library(sandwich)
library(ggplot2)
library(stargazer)
library(devtools)
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
# Prep data
reg_data <- wbfirmadaptation::prep_reg_data("C:/Users/young/OneDrive/Documents/wbfirmadaptation/raw_data", "Mexico2023")
# Climate on firm
wbfirmadaptation::climate_on_firm_regs_charts(reg_data, "level", "C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output")
# Main script: run all functions, 1 through 3, on the data to produce standardized
# output for the survey supplied.
# Load libraries
library(haven)
library(dplyr)
library(sandwich)
library(ggplot2)
library(stargazer)
library(devtools)
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
# Main script: run all functions, 1 through 3, on the data to produce standardized
# output for the survey supplied.
# Load libraries
library(haven)
library(dplyr)
library(sandwich)
library(ggplot2)
library(stargazer)
library(devtools)
# Load my package
load_all("C:/Users/young/OneDrive/Documents/wbfirmadaptation")
# Prep data
reg_data <- wbfirmadaptation::prep_reg_data("C:/Users/young/OneDrive/Documents/wbfirmadaptation/raw_data", "Mexico2023")
# Climate on firm
wbfirmadaptation::climate_on_firm_regs_charts(reg_data, "level", "C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output")
wbfirmadaptation::climate_on_firm_regs_tables(reg_data, "level", "C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output")
# Interactions
wbfirmadaptation::interaction_reg_table(reg_data, "log(sales)", "heat_days",
c("young", "small", "obstacle_accesstofinance"),
"C:/Users/young/OneDrive/Documents/wbfirmadaptation/test_output/test_table.html")
load("C:/Users/young/OneDrive/Escritorio/wb-climate-pilots-bangladesh/raw_data/enterprise_survey/master.dta")
bla <- haven("C:/Users/young/OneDrive/Escritorio/wb-climate-pilots-bangladesh/raw_data/enterprise_survey/master.dta")
library(haven)
bla <- haven("C:/Users/young/OneDrive/Escritorio/wb-climate-pilots-bangladesh/raw_data/enterprise_survey/master.dta")
bla <- read_dta("C:/Users/young/OneDrive/Escritorio/wb-climate-pilots-bangladesh/raw_data/enterprise_survey/master.dta")
unique(bla$country)
devtools::install_github("youngnolan1/wbfirmadaptationtool")
library(wbfirmadaptationtool)
devtools::document()
library(devtools)
setwd("C:/Users/young/OneDrive/Documents/wbfirmadaptationtool")
devtools::document()
library(devtools)
library(wbfirmadaptationtool)
devtools::build("wbfirmadaptationtool")
devtools::build()
# WB Firm Adaptation Tool - example analysis
# Load package
library(wbfirmadaptationtool)
# MANDATORY FIRST STEP: Prep data - edit data_directory and survey arguments
reg_data <- wbfirmadaptationtool::prep_reg_data("C:/Users/young/OneDrive/Escritorio/wbfirmadaptation_snapshots", "Mexico2023")
# Climate on firm regressions - edit level_or_deviation and output_directory
# Export summary charts for heat days, temperature, and temperature volatility
wbfirmadaptationtool::climate_on_firm_regs_charts(reg_data, "level", "C:/Users/young/OneDrive/Escritorio/wbfirmadaptation_snapshots/Mexico/output")
wbfirmadaptationtool::climate_on_firm_regs_charts(reg_data, "deviation", "C:/Users/young/OneDrive/Escritorio/wbfirmadaptation_snapshots/Mexico/output")
?wbfirmadaptationtool::climate_on_firm_regs_charts
wbfirmadaptationtool::climate_on_firm_regs_charts
devtools::install_github("youngnolan1/wbfirmadaptationtool")
library(wbfirmadaptationtool)
# Load package
library(wbfirmadaptationtool)
wbfirmadaptationtool::climate_on_firm_regs_charts
